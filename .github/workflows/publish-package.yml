---
    name: Publish Package
    
    on:
      workflow_call:
        secrets:
          NODE_AUTH_TOKEN:
            required: true
        inputs:
            workspace-name:
              description: "Name of the workspace to publish"
              required: true
              type: string
    
    jobs:
      build:
        runs-on: [self-hosted, dind]
        steps:
          - uses: actions/checkout@v4

          - uses: actions/setup-node@v4
            with:
              node-version: '20.x'
              registry-url: 'https://npm.pkg.github.com'
              scope: '@urbansportsclub'
              always-auth: true 
              token: ${{ secrets.NODE_AUTH_TOKEN }}
    
          - name: Publish to GitHub Packages
            run: npm publish
              